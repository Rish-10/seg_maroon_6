{% extends "base_recipe_content.html" %}

{% block content %}
<div class="container py-5 explore-page">

  <header class="text-center mb-5">
    <h1 class="display-4">{{ hero_title|default:"Find Chefs" }}</h1>
    <p class="lead">{{ hero_body|default:"Search for other cooks to follow and share recipes with." }}</p>
  </header>

  <section class="mb-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <div>
        <p class="text-uppercase text-muted small mb-1">Search Results</p>
        <h2 class="h3 mb-0">
            {% if search_term %}
                Users matching "{{ search_term }}"
            {% else %}
                All Users
            {% endif %}
        </h2>
      </div>
      <a href="{% url 'dashboard' %}" class="btn btn-outline-secondary btn-sm">Back to Recipes</a>
    </div>

    <div class="row">
      <div class="col-12">
        {% for user in users %}
          <div class="card border-0 shadow-sm mb-3"> <div class="card-body d-flex align-items-center p-3">

              <a href="{% url 'profile_page' user.username %}" class="flex-shrink-0 me-4">
                <img src="{{ user.gravatar }}"
                     alt="{{ user.username }}"
                     class="rounded-circle"
                     width="64" height="64">
              </a>

              <div class="flex-grow-1">
                <h5 class="mb-0">
                  <a href="{% url 'profile_page' user.username %}" class="text-dark text-decoration-none fw-bold">
                    {{ user.full_name|default:user.username }}
                  </a>
                </h5>
                <p class="text-muted small mb-1">{{ user.username }}</p>

                {% if user.bio %}
                  <p class="text-muted small mb-0 text-truncate" style="max-width: 500px;">
                    {{ user.bio }}
                  </p>
                {% endif %}
              </div>

              <div class="ms-3">
                <a href="{% url 'profile_page' user.username %}" class="btn btn-outline-primary rounded-pill px-4">
                  View Profile
                </a>
              </div>

            </div>
          </div>

        {% empty %}
          <div class="text-center py-5">
              <div class="mb-3">
                  <i class="bi bi-search display-4 text-muted"></i>
              </div>
              <h3 class="h4">No users found</h3>
              <p class="text-muted">We couldn't find anyone matching "<strong>{{ search_term }}</strong>".</p>
          </div>
        {% endfor %}
      </div>
    </div>
  </section>

</div>
{% endblock %}