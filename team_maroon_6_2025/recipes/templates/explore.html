{% extends "base_recipe_content.html" %}
{% block content %}
<div class="container py-5 explore-page">
  <header class="text-center mb-5">
    <h1 class="display-4">{{ hero_title }}</h1>
    <p class="lead">{{ hero_body }}</p>
    <form method="get" action="{% url 'recipe_list' %}" class="d-flex justify-content-center gap-2 mt-4">
      <input type="search" class="form-control form-control-lg w-50" name="q" placeholder="Search recipes by keywordâ€¦">
      <button class="btn btn-primary btn-lg" type="submit">Search</button>
    </form>
  </header>

  <section class="mb-5">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <div>
        <p class="text-uppercase text-muted small mb-1">Top Rated Recipes</p>
        <h2 class="h3 mb-0">Community Favourites</h2>
      </div>
      <a href="{% url 'recipe_list' %}" class="btn btn-outline-primary">View all recipes</a>
    </div>
    {% include "partials/recipe_rows.html" with recipes=top_rated_recipes %}
  </section>

  <section class="mb-5">
    <p class="text-uppercase text-muted small mb-1">Popular Categories</p>
    <h2 class="h3">Browse by type</h2>
    <div class="row mt-3">
      {% for column in category_columns %}
        <div class="col-md-4 mb-3">
          <ul class="list-unstyled">
            {% for category in column %}
              <li class="mb-2">
                <a href="{% url 'recipe_list' %}?include={{ category.id }}" class="category-box">
                  {{ category.label }}
                </a>
              </li>
            {% endfor %}
          </ul>
        </div>
      {% endfor %}
    </div>
  </section>

  <section class="mb-5">
    <p class="text-uppercase text-muted small mb-1">Fresh Picks</p>
    <h2 class="h3">Latest recipes</h2>
    {% include "partials/recipe_rows.html" with recipes=latest_recipes %}
  </section>

  <section class="mb-5">
    <p class="text-uppercase text-muted small mb-1">Trending Now</p>
    <h2 class="h3">Most favourited this week</h2>
    {% include "partials/recipe_rows.html" with recipes=featured_recipes %}
  </section>
</div>
{% endblock %}
